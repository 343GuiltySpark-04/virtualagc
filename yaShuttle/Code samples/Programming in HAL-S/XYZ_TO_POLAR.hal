# This sample came from PDF p. 46 of "Programming in HAL/S)".
# It reads in a 3-vector and converts it to polar coordinates
# (bearing, i.e. angle from x-axis in horizontal plane, elevation
# (i.e., angle from x-axis in vertical plane), and distance.

  XYZ_TO_POLAR:
  PROGRAM;
     DECLARE P VECTOR;
     READ(5) P;
     WRITE(6) ARCTAN(P$2 / P$1), ARCTAN(P$3 / ABVAL(P$(2 AT 1)), ABVAL(P);;
  CLOSE XYZ_TO_POLAR;
  